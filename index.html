<!DOCTYPE html>
<html>
  <head>
    <title>PiCalc</title>
    <mhtml type="accentColor" color="#001E8D"/>
    <mhtml type="primaryColor" color="#001E8D"/>
    <script src="c.js"></script>
    
   <style>
     * {
       box-sizing:border-box;
     }
    </style>
  </head>
  <body>
    <toolbar title="PiCalc"></toolbar>
    <action clickFunction="signIn()">account_circle</action>
    <content>
    <center>
      <h1>Contribute your computer's power to the ongoing search for more digits of pi.</h1>
      <h2 id="number">Total Digits Found: 000000000</h2>
      <h3 id="smallerNumber">You have contributed: 0000</h3>
      <br />
      <br />
      <mbutton onClick="contributeAnon()">Contribute Anonymously</mbutton>
    </center>
      <div id="log">>>>LOG BEGINS HERE:<br /></div>
    </content>
    <script src="https://matthewwhitaker.me/api/mhtml.js"></script>
    <script>
      function signIn() {
        alert("Sign In Coming Soon. Check back later.");
      }
      function contributeAnon() {
        startWorker();
      }
      function startWorker() {
        if(typeof(Worker) !== "undefined") {
            if(typeof(w) == "undefined") {
                w = new Worker("c2.js");
            }
            w.onmessage = function(event) {
                document.getElementById("log").innerHTML += event.data;
            };
        } else {
            document.getElementById("log").innerHTML += "<br />>>>Web Workers must be supported by your browser in order to calculate Pi! Please switch to a better browser.";
        }
    }
    </script>
  </body>
</html>
